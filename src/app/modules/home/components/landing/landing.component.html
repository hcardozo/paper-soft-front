<div class="viewport-container">
  <app-header (slideMenu)="drawer.toggle()"></app-header>

  <mat-drawer-container class="container" autosize>
    <mat-drawer #drawer class="sidenav" [mode]="'side'">

      <mat-tree [dataSource]="dataMenu" [treeControl]="nestedTreeControl">
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
          <li>
            <div class="mat-tree-node submenu" (click)="redirect(node.path)">
              <mat-icon>{{ node.icon}}</mat-icon>
              <span>
                {{node.name}}
              </span>
            </div>
          </li>
        </mat-tree-node>

        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
          <li>
            <div class="mat-tree-node">
              <span matTreeNodeToggle>
                <mat-icon>
                  {{nestedTreeControl.isExpanded(node) ? 'expand_more' :
                  'chevron_right'}}
                </mat-icon>
              </span>
              {{node.name}}
            </div>
            <ul [hidden]="!nestedTreeControl.isExpanded(node)">
              <ng-container matTreeNodeOutlet></ng-container>
            </ul>
          </li>
        </mat-nested-tree-node>
      </mat-tree>

    </mat-drawer>

    <div class="sidenav-content">
      <router-outlet></router-outlet>
    </div>
  </mat-drawer-container>
</div>
